<!DOCTYPE html>
<html>
	<meta charset="utf-8">
	<head>
	  <title>üêæ Teach Brian How to Code</title>
	  <link href="https://fonts.googleapis.com/css?family=Bungee+Inline|Pacifico" rel="stylesheet">
	  <link rel="stylesheet" href="stylesheets/blog-stylesheet.css" type="text/css">
	</head>

	<body>
	  <div class="sub-div">
	    <p><a href="../index.html">Back to Home</a></p>
	  </div>
    <div class="blog_title">
    	<h1>&nbsp;OOP Composition vs Inheritance</h1>
      <h2>Feb 8, 2017</h2>
    </div>
    <p>Be aware. This is heavy topic. Composition vs Inheritance is the topic that I would love to ignore and think as something that I've never have to worry about in real life. It's not that this is hard to understand or anything but I feel like it's not really useful in real life application. AND as always I WAS WRONG.</p>
    <p><strong>Designing object-oriented software is hard, and designing </strong><mark>reusable </mark><strong> object-oriented software is even harder.</strong></p>
    <h4>Quick Conclusion and the Theory</h4>
    <p>In a composition-based system, the various components get combined togeter at run-time to create the desired behavior. This allows flexibility to build behavior dynamically without having to resort to clever metaprogramming tricks.</p>
    <p>Composition has a few downsides too. It tends to add more indirection to a system. It can also be more work to assemble all the components together into the deesired behavior. Anything that can be implemented via inheritance can alternatively be implemented using composition.</p>
    <p>Use inheritance when the cost of indirection and construction of a composition-based approach is higher than the benefits of encapsulated responsibilities and flexibilities. </p>
    <h4>Inheritance: Alter Before and After</h4>
    <p>So we all know how inheritance works. It inherites from parent class so the child can have exactly same behavior. For example:</p>
    <div class="tutorial">
  class Parent
    def hello(person)
      puts "Dad, say hi to #{person}"
    end 
  end

  class Child < Parent 
    def hello(person)
      puts "Son, say hi to #{person}"
      super
      puts "Guesswhat, #{person}"
    end
  end 

  son = Child.new
  son.hello('sister')
  => 
  Son, say hi to sister
  Dad, say hi to sister
  Guesswhat, sister
    </div>
    <p><mark>super</mark> calls the same name method of the parent class, if it exists. Also it passes all the arguments to the parent class method as well. </p>
    <h4>using super() with initialize</h4>
  </body>
	<div class="tutorial">
  class Parent
    def initialize(person) 
      @person = person
    end 

    def hello
      puts "Dad, say hi #{person} "
    end 
  end

  class Child < Parent 
    def initialize(person)
      @person = person
      super
    end
  end 	

  father = Parent.new("sister")
  son = Child.new("brother")
  son.hello => Dad, say hi brother
	</div>

		<h4>Composition</h4>
		<p>When to use compositon? Well, there is no right answer for it. Someone told me that composition is about behavior and inheritance is about state but that's very vague statement in my opinion. Both inheritance and composition are great way to DRY code. Here is simple example: </p>
		<div class="tutorial">
  class Language
    def speak(type)
      if type == 'dog'
        puts 'I am hungry'
      elsif type == 'cat'
        puts'meow'
      end
    end 
  end 

  class Dog
    def initialize
       @language = Language.new
    end

    def bark
      @language.speak('dog')
    end 
  end 

  class Cat
    def initialize 
      @language = Language.new
    end

    def meow
      @langauge.speak('cat')
    end
  end 

  brian = Dog.new
  brian.bark => I am hungry
		</div>
		<p>Perhaps this example does not really explan why we need to use language class instead of separate 'bark' and 'meow' function in the dog and cat classes but you can imagine this can be very useful when there are bunch of similar dog and cat classes and have similar behaviors. When ther eis change os how they speak, instead of visiting all classes, you can only change Language class. </p>
  <hr>
	<footer>
	  Sarah Kwak 2015
	</footer>
</html>
